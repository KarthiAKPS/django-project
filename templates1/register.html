{% load static %}
{% static "images" as baseUrl %}
<!DOCTYPE html>
<html lang="en">

<head>

    <link rel="icon" href="{% static 'images/letter-t-icon-21.jpg' %}" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    
</head>

<body bgcolor="white">
    <py-script>
    import random
    password = 'hello'
    def mypass():
        length = random.randint(8,16)
        list1=[]
        for i in range(0,length):
            list1.append(chr(random.randint(32,126)))
        password = ''.join(list1)
        display(password, target='python')
    </py-script>
    <script>
        function myfun(){
            var a = document.getElementById("password1").value;
            var b = document.getElementById("password2").value;

            if(a!=b){
                document.getElementById("messages").innerHTML="Passwords do not match";
                return false;
            }
        }
    </script>
    <script>
        function myfunction(){
            var password = PyScript.interpreter.globals.get('password');
            document.getElementById("password1").value = password;
            return password
       } 
    </script>
    <form onsubmit="return myfun();" action="register" method="post" >
        {% csrf_token %} 
        
        <p>
            <label for="user_name">User Name</label>
            <input type="text" name="user_name" id="user_name" placeholder="Antman56." autocomplete="on" required autofocus>
        </p>
        <p>
            <label for="f_name">First Name</label>
            <input type="text" name="f_name" id="f_name" placeholder="Dave" autocomplete="on" required>
        </p>
        <p>
            <label for="l_name">Last Name</label>
            <input type="text" name="l_name" id="l_name" placeholder="Lee" autocomplete="on" required>
        </p>
        <p>
            <label for="email">Email ID</label>
            <input type="email" name="email" id="email" placeholder="davelee@gmail.com" autocomplete="on" required>
        </p>
        <p>
            <label for="password1">Password</label>
            <input type="password" name="password1" id="password1" placeholder="123$aBc" value="myfunction()" required>
        </p>
        <p>
            <label for="password2">Confirm Password</label>
            <input type="password" name="password2" id="password2" placeholder="123$aBc" required><span id="messages" style="color:red"></span>
        </p>
        <div id="python"></div>
        <input type="submit" value="Submit" >
      
    </form>
    <button py-click="mypass()" action="">create random password</button>
    <button onclick="myfunction()" action="">fill the random password</button>

    <div>
        {% for message in messages %}
        <h3>{{message}}</h3>
        {% endfor %}
    </div>

</body>
</html>